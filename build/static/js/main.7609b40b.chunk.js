(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{103:function(e,a,t){e.exports=t(124)},110:function(e,a,t){},111:function(e,a,t){},122:function(e,a,t){},123:function(e,a){},124:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(77),l=t.n(c),s=(t(110),t(10)),i=t(172),u=t(173),m=t(169),o=t(174),d=t(175),g=t(166),b=t(167),E=t(35),f=t(83),v=t(56),h=t.n(v),p=t(86),j=t.n(p),O=(t(111),t(50)),S=O.b,x=O.c,y=function(e){var a=e.userId,t=x(function(e){return e}).messages,c=Object(n.useRef)(null);return Object(n.useEffect)(function(){c&&c.current&&c.current.scrollIntoView({behavior:"smooth"})},[t]),r.a.createElement("div",{className:"messages-card"},t.map(function(e){return r.a.createElement(w,{key:e.id,messageItem:e,userId:a})}),r.a.createElement("div",{ref:c}))},w=function(e){var a=e.messageItem,t=e.userId;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"message-box ".concat(a.userId===t?"message-box-right":"message-box-left")},r.a.createElement(m.a,{sx:{width:24,height:24,margin:"10px 3px"},"aria-label":"current-user"},r.a.createElement(h.a,null)),r.a.createElement("div",null,r.a.createElement("div",{className:"username"},a.userName),r.a.createElement("div",{className:"message"},r.a.createElement("div",{className:"message-text"},a.message),r.a.createElement("div",{className:"message-time"},a.time)))))},I=t(57),k=t(40),C=Object(k.b)({name:"messages",initialState:[],reducers:{addMessage:function(e,a){e.push(a.payload)},removeMessage:function(e,a){return e.filter(function(e){return e.id!==a.payload})}}}),N=C.actions,M=N.addMessage,L=(N.removeMessage,C.reducer),R=t(85),F=t.n(R),A=t(36),T=["persist/PERSIST","persist/REHYDRATE"],z={key:"root",storage:F.a},B={cardStyle:{overflow:"hidden"},cardContentStyle:{background:E.a[50],height:"400px",overflowY:"auto",marginRight:"-15px"},bgGradient:{background:"linear-gradient(to right, ".concat(A.a[400],", ").concat(E.a[300],")"),color:f.a[100]}},D=function(e){var a=e.user,t=S(),c=Object(n.useState)(""),l=Object(s.a)(c,2),v=l[0],p=l[1];return r.a.createElement(i.a,{sx:{width:"25rem"},style:B.cardStyle},r.a.createElement(u.a,{avatar:r.a.createElement(m.a,{sx:{bgcolor:E.a[500]},"aria-label":"current-user"},r.a.createElement(h.a,null)),title:a.name,style:B.bgGradient}),r.a.createElement(o.a,{style:B.cardContentStyle},r.a.createElement(y,{userId:a.id})),r.a.createElement(d.a,{disableSpacing:!0,style:{background:f.a[50]}},r.a.createElement(g.a,{hiddenLabel:!0,id:"filled-hidden-label-small",variant:"standard",size:"small",multiline:!0,sx:{width:"20rem"},placeholder:"Message",value:v,onChange:function(e){return p(e.target.value)}}),r.a.createElement(b.a,{"aria-label":"send-message",onClick:function(){if(""!==v.trim()){var e=new Date,n={id:Object(I.v4)(),message:v.trim(),userId:a.id,userName:a.name,time:"".concat(e.getHours(),":").concat(e.getMinutes())};t(M(n))}p("")}},r.a.createElement(j.a,null))))},J=function(){return r.a.createElement("div",{className:"header"},r.a.createElement("h1",null,"Simple Chat App"))},P=t(171),G=function(e){var a=e.handleLogin,t=Object(n.useState)(""),c=Object(s.a)(t,2),l=c[0],u=c[1];return r.a.createElement(i.a,{sx:{minWidth:275}},r.a.createElement(o.a,null,r.a.createElement(P.a,{variant:"h4",textAlign:"center",gutterBottom:!0},"Login in"),r.a.createElement(g.a,{label:"username",placeholder:"enter username",size:"small",style:{margin:"10px"},value:l,onChange:function(e){return u(e.target.value)}}),r.a.createElement("br",null),r.a.createElement(b.a,{variant:"contained",style:{margin:"10px"},onClick:function(){return a(l)}},"Join chat")))},H=(t(122),Object(k.b)({name:"users",initialState:[],reducers:{addUser:function(e,a){e.push(a.payload)}}})),U=H.actions.addUser,Y=H.reducer;var V=function(){var e=S(),a=x(function(e){return e}).users,t=Object(n.useState)(!1),c=Object(s.a)(t,2),l=c[0],i=c[1],u=Object(n.useState)({}),m=Object(s.a)(u,2),o=m[0],d=m[1];return r.a.createElement("div",{className:"App"},r.a.createElement(J,null),r.a.createElement("div",{className:"container"},l?r.a.createElement(D,{user:o}):r.a.createElement(G,{handleLogin:function(t){if(""!==t.trim()){var n=a.find(function(e){return e.name===t}),r={name:t};n?r.id=n.id:(r.id=Object(I.v4)(),e(U(r))),d(r),i(!0)}}})))},W=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,176)).then(function(a){var t=a.getCLS,n=a.getFID,r=a.getFCP,c=a.getLCP,l=a.getTTFB;t(e),n(e),r(e),c(e),l(e)})},q=t(22),K=t(68),Q=t(58),X=Object(q.b)({users:Y,messages:L}),Z=Object(Q.a)(z,X),$=Object(k.a)({reducer:Z,middleware:function(e){return e({serializableCheck:!1}).concat(Object(K.createStateSyncMiddleware)({blacklist:T}))}});Object(K.initMessageListener)($);var _=$,ee=t(89);l.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(O.a,{store:_},r.a.createElement(ee.a,{loading:null,persistor:Object(Q.b)(_)},r.a.createElement(V,null))))),W()},88:function(e,a){}},[[103,1,2]]]);
//# sourceMappingURL=main.7609b40b.chunk.js.map